<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Filter functions and abstractions."><title>minijinja::filters - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-b1a3e7f8283b8434.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="minijinja" data-themes="" data-resource-suffix="" data-rustdoc-version="1.77.0-nightly (d5fd09972 2024-01-22)" data-channel="nightly" data-search-js="search-dd67cee4cfa65049.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-48f368f3872407c8.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../minijinja/index.html"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../minijinja/index.html"><img src="https://github.com/mitsuhiko/minijinja/raw/main/artwork/logo-square.png" alt="logo"></a><h2><a href="../../minijinja/index.html">minijinja</a><span class="version">1.0.12</span></h2></div><h2 class="location"><a href="#">Module filters</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate minijinja</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../minijinja/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">minijinja</a>::<wbr><a class="mod" href="#">filters</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/minijinja/filters.rs.html#1-1319">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Filter functions and abstractions.</p>
<p>MiniJinja inherits from Jinja2 the concept of filter functions.  These are functions
which are applied to values to modify them.  For example the expression <code>{{ 42|filter(23) }}</code>
invokes the filter <code>filter</code> with the arguments <code>42</code> and <code>23</code>.</p>
<p>MiniJinja comes with some built-in filters that are listed below. To create a
custom filter write a function that takes at least a value, then registers it
with <a href="../struct.Environment.html#method.add_filter" title="method minijinja::Environment::add_filter"><code>add_filter</code></a>.</p>
<h2 id="using-filters"><a class="doc-anchor" href="#using-filters">§</a>Using Filters</h2>
<p>Using filters in templates is possible in all places an expression is permitted.
This means they are not just used for printing but also are useful for iteration
or similar situations.</p>
<p>Motivating example:</p>
<div class="example-wrap"><pre class="language-jinja"><code>&lt;dl&gt;
{% for key, value in config|items %}
  &lt;dt&gt;{{ key }}
  &lt;dd&gt;&lt;pre&gt;{{ value|tojson }}&lt;/pre&gt;
{% endfor %}
&lt;/dl&gt;
</code></pre></div><h2 id="custom-filters"><a class="doc-anchor" href="#custom-filters">§</a>Custom Filters</h2>
<p>A custom filter is just a simple function which accepts its inputs
as parameters and then returns a new value.  For instance the following
shows a filter which takes an input value and replaces whitespace with
dashes and converts it to lowercase:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">fn </span>slugify(value: String) -&gt; String {
    value.to_lowercase().split_whitespace().collect::&lt;Vec&lt;<span class="kw">_</span>&gt;&gt;().join(<span class="string">"-"</span>)
}

env.add_filter(<span class="string">"slugify"</span>, slugify);</code></pre></div>
<p>MiniJinja will perform the necessary conversions automatically.  For more
information see the <a href="trait.Filter.html" title="trait minijinja::filters::Filter"><code>Filter</code></a> trait.</p>
<h2 id="accessing-state"><a class="doc-anchor" href="#accessing-state">§</a>Accessing State</h2>
<p>In some cases it can be necessary to access the execution <a href="../struct.State.html" title="struct minijinja::State"><code>State</code></a>.  Since a borrowed
state implements <a href="../value/trait.ArgType.html" title="trait minijinja::value::ArgType"><code>ArgType</code></a> it’s possible to add a parameter that holds the state.
For instance the following filter appends the current template name to the string:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>minijinja::value::Value;
<span class="kw">use </span>minijinja::State;

<span class="kw">fn </span>append_template(state: <span class="kw-2">&amp;</span>State, value: <span class="kw-2">&amp;</span>Value) -&gt; String {
    <span class="macro">format!</span>(<span class="string">"{}-{}"</span>, value, state.name())
}

env.add_filter(<span class="string">"appendTemplate"</span>, append_template);</code></pre></div>
<h2 id="built-in-filters"><a class="doc-anchor" href="#built-in-filters">§</a>Built-in Filters</h2>
<p>When the <code>builtins</code> feature is enabled a range of built-in filters are
automatically added to the environment.  These are also all provided in
this module.  Note though that these functions are not to be
called from Rust code as their exact interface (arguments and return types)
might change from one MiniJinja version to another.</p>
<p>Some additional filters are available in the
<a href="https://crates.io/crates/minijinja-contrib"><code>minijinja-contrib</code></a> crate.</p>
</div></details><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Filter.html" title="trait minijinja::filters::Filter">Filter</a></div><div class="desc docblock-short">A utility trait that represents filters.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.abs.html" title="fn minijinja::filters::abs">abs</a></div><div class="desc docblock-short">Returns the absolute value of a number.</div></li><li><div class="item-name"><a class="fn" href="fn.attr.html" title="fn minijinja::filters::attr">attr</a></div><div class="desc docblock-short">Looks up an attribute.</div></li><li><div class="item-name"><a class="fn" href="fn.batch.html" title="fn minijinja::filters::batch">batch</a></div><div class="desc docblock-short">Batch items.</div></li><li><div class="item-name"><a class="fn" href="fn.bool.html" title="fn minijinja::filters::bool">bool</a></div><div class="desc docblock-short">Converts the value into a boolean value.</div></li><li><div class="item-name"><a class="fn" href="fn.capitalize.html" title="fn minijinja::filters::capitalize">capitalize</a></div><div class="desc docblock-short">Convert the string with all its characters lowercased
apart from the first char which is uppercased.</div></li><li><div class="item-name"><a class="fn" href="fn.default.html" title="fn minijinja::filters::default">default</a></div><div class="desc docblock-short">If the value is undefined it will return the passed default value,
otherwise the value of the variable:</div></li><li><div class="item-name"><a class="fn" href="fn.dictsort.html" title="fn minijinja::filters::dictsort">dictsort</a></div><div class="desc docblock-short">Dict sorting functionality.</div></li><li><div class="item-name"><a class="fn" href="fn.escape.html" title="fn minijinja::filters::escape">escape</a></div><div class="desc docblock-short">Escapes a string.  By default to HTML.</div></li><li><div class="item-name"><a class="fn" href="fn.first.html" title="fn minijinja::filters::first">first</a></div><div class="desc docblock-short">Returns the first item from a list.</div></li><li><div class="item-name"><a class="fn" href="fn.float.html" title="fn minijinja::filters::float">float</a></div><div class="desc docblock-short">Converts a value into a float.</div></li><li><div class="item-name"><a class="fn" href="fn.indent.html" title="fn minijinja::filters::indent">indent</a></div><div class="desc docblock-short">indents Value with spaces</div></li><li><div class="item-name"><a class="fn" href="fn.int.html" title="fn minijinja::filters::int">int</a></div><div class="desc docblock-short">Converts a value into an integer.</div></li><li><div class="item-name"><a class="fn" href="fn.items.html" title="fn minijinja::filters::items">items</a></div><div class="desc docblock-short">Returns a list of pairs (items) from a mapping.</div></li><li><div class="item-name"><a class="fn" href="fn.join.html" title="fn minijinja::filters::join">join</a></div><div class="desc docblock-short">Joins a sequence by a character</div></li><li><div class="item-name"><a class="fn" href="fn.last.html" title="fn minijinja::filters::last">last</a></div><div class="desc docblock-short">Returns the last item from a list.</div></li><li><div class="item-name"><a class="fn" href="fn.length.html" title="fn minijinja::filters::length">length</a></div><div class="desc docblock-short">Returns the “length” of the value</div></li><li><div class="item-name"><a class="fn" href="fn.list.html" title="fn minijinja::filters::list">list</a></div><div class="desc docblock-short">Converts the input value into a list.</div></li><li><div class="item-name"><a class="fn" href="fn.lower.html" title="fn minijinja::filters::lower">lower</a></div><div class="desc docblock-short">Converts a value to lowercase.</div></li><li><div class="item-name"><a class="fn" href="fn.map.html" title="fn minijinja::filters::map">map</a></div><div class="desc docblock-short">Applies a filter to a sequence of objects or looks up an attribute.</div></li><li><div class="item-name"><a class="fn" href="fn.max.html" title="fn minijinja::filters::max">max</a></div><div class="desc docblock-short">Returns the largest item from the list.</div></li><li><div class="item-name"><a class="fn" href="fn.min.html" title="fn minijinja::filters::min">min</a></div><div class="desc docblock-short">Returns the smallest item from the list.</div></li><li><div class="item-name"><a class="fn" href="fn.pprint.html" title="fn minijinja::filters::pprint">pprint</a></div><div class="desc docblock-short">Pretty print a variable.</div></li><li><div class="item-name"><a class="fn" href="fn.reject.html" title="fn minijinja::filters::reject">reject</a></div><div class="desc docblock-short">Creates a new sequence of values that don’t pass a test.</div></li><li><div class="item-name"><a class="fn" href="fn.rejectattr.html" title="fn minijinja::filters::rejectattr">rejectattr</a></div><div class="desc docblock-short">Creates a new sequence of values of which an attribute does not pass a test.</div></li><li><div class="item-name"><a class="fn" href="fn.replace.html" title="fn minijinja::filters::replace">replace</a></div><div class="desc docblock-short">Does a string replace.</div></li><li><div class="item-name"><a class="fn" href="fn.reverse.html" title="fn minijinja::filters::reverse">reverse</a></div><div class="desc docblock-short">Reverses a list or string</div></li><li><div class="item-name"><a class="fn" href="fn.round.html" title="fn minijinja::filters::round">round</a></div><div class="desc docblock-short">Round the number to a given precision.</div></li><li><div class="item-name"><a class="fn" href="fn.safe.html" title="fn minijinja::filters::safe">safe</a></div><div class="desc docblock-short">Marks a value as safe.  This converts it into a string.</div></li><li><div class="item-name"><a class="fn" href="fn.select.html" title="fn minijinja::filters::select">select</a></div><div class="desc docblock-short">Creates a new sequence of values that pass a test.</div></li><li><div class="item-name"><a class="fn" href="fn.selectattr.html" title="fn minijinja::filters::selectattr">selectattr</a></div><div class="desc docblock-short">Creates a new sequence of values of which an attribute passes a test.</div></li><li><div class="item-name"><a class="fn" href="fn.slice.html" title="fn minijinja::filters::slice">slice</a></div><div class="desc docblock-short">Slice an iterable and return a list of lists containing
those items.</div></li><li><div class="item-name"><a class="fn" href="fn.sort.html" title="fn minijinja::filters::sort">sort</a></div><div class="desc docblock-short">Returns the sorted version of the given list.</div></li><li><div class="item-name"><a class="fn" href="fn.title.html" title="fn minijinja::filters::title">title</a></div><div class="desc docblock-short">Converts a value to title case.</div></li><li><div class="item-name"><a class="fn" href="fn.trim.html" title="fn minijinja::filters::trim">trim</a></div><div class="desc docblock-short">Trims a value</div></li><li><div class="item-name"><a class="fn" href="fn.unique.html" title="fn minijinja::filters::unique">unique</a></div><div class="desc docblock-short">Returns a list of unique items from the given iterable.</div></li><li><div class="item-name"><a class="fn" href="fn.upper.html" title="fn minijinja::filters::upper">upper</a></div><div class="desc docblock-short">Converts a value to uppercase.</div></li></ul></section></div></main></body></html>