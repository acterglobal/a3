<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the build method from the HomeShellState class, for the Dart programming language.">
  <title>build method - HomeShellState class - home_shell library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../../" data-using-base-href="false" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">acter</a></li>
    <li><a href="../../file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell/file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell-library.html">features&#47;home&#47;pages&#47;home_shell.dart</a></li>
    <li><a href="../../file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell/HomeShellState-class.html">HomeShellState</a></li>
    <li class="self-crumb">build method</li>
  </ol>
  <div class="self-name">build</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button" title="Toggle brightness">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        dark_mode
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        light_mode
      </span>
    </label>
  </div>
</header>
<main>

  <div
      id="dartdoc-main-content"
      class="main-content"
      data-above-sidebar="file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell&#47;HomeShellState-class-sidebar.html"
      data-below-sidebar="">
      <div>
<h1><span class="kind-method">build</span> method 
</h1></div>

    <section class="multi-line-signature">
      
  <div>
    <ol class="annotation-list">
        <li>@<a href="https://api.flutter.dev/flutter/dart-core/override-constant.html">override</a></li>
    </ol>
  </div>

<span class="returntype">dynamic</span>
<span class="name ">build</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="build-param-context"><span class="type-annotation">dynamic</span> <span class="parameter-name">context</span></span></li>
</ol>)

      

    </section>
    


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">@override
Widget build(BuildContext context) {
  &#47;&#47; get platform of context.
  final client = ref.watch(clientProvider);
  if (client == null) {
    return const Scaffold(
      body: Center(
        child: CircularProgressIndicator(),
      ),
    );
  }
  final syncState = ref.watch(syncStateProvider);
  final hasFirstSynced = !syncState.syncing;
  final errorMsg = syncState.errorMsg;

  &#47;&#47; we also need to globally hook the notifications list so it can issue
  &#47;&#47; desktop notifications if configured.
  &#47;&#47; ignore: unused_local_variable
  final notifications = ref.watch(notificationsListProvider);
  final keyboardVisibility = ref.watch(keyboardVisibleProvider);

  if (errorMsg != null) {
    final softLogout = errorMsg == &#39;SoftLogout&#39;;
    if (softLogout || errorMsg == &#39;Unauthorized&#39;) {
      &#47;&#47; We have a special case
      return Scaffold(
        body: Container(
          margin: const EdgeInsets.only(top: kToolbarHeight),
          child: Center(
            child: Column(
              children: [
                Container(
                  margin: const EdgeInsets.symmetric(vertical: 15),
                  height: 100,
                  width: 100,
                  child: SvgPicture.asset(
                    &#39;assets&#47;images&#47;undraw_access_denied_re_awnf.svg&#39;,
                  ),
                ),
                Container(
                  margin: const EdgeInsets.symmetric(vertical: 15),
                  child: RichText(
                    textAlign: TextAlign.center,
                    text: const TextSpan(
                      text: &#39;Access&#39;,
                      style: TextStyle(color: Colors.white, fontSize: 32),
                      children: &lt;TextSpan&gt;[
                        TextSpan(
                          text: &#39; Denied&#39;,
                          style: TextStyle(
                            fontWeight: FontWeight.bold,
                            color: Colors.red,
                            fontSize: 32,
                          ),
                        ),
                      ],
                    ),
                  ),
                ),
                Container(
                  margin: const EdgeInsets.symmetric(vertical: 15),
                  child: const Text(
                    &#39;Your session has been terminated by the server, you need to log in again&#39;,
                  ),
                ),
                softLogout
                    ? OutlinedButton(
                        &#47;&#47; FIXME: not yet properly supported
                        onPressed: () =&gt; context.goNamed(Routes.intro.name),
                        child: const Text(
                          &#39;Login again&#39;,
                        ),
                      )
                    : OutlinedButton(
                        onPressed: () =&gt;
                            logoutConfirmationDialog(context, ref),
                        child: const Text(&#39;Clear db and re-login&#39;),
                      ),
              ],
            ),
          ),
        ),
      );
    }
    return Scaffold(
      body: Center(
        child: Text(errorMsg),
      ),
    );
  }

  final bottomBarNav = ref.watch(bottomBarNavProvider(context));
  return CallbackShortcuts(
    bindings: &lt;LogicalKeySet, VoidCallback&gt;{
      LogicalKeySet(LogicalKeyboardKey.control, LogicalKeyboardKey.keyK): () {
        context.pushNamed(Routes.quickJump.name);
      },
      LogicalKeySet(LogicalKeyboardKey.meta, LogicalKeyboardKey.keyK): () {
        context.pushNamed(Routes.quickJump.name);
      },
    },
    child: KeyboardDismissOnTap(
      &#47;&#47; close keyboard if clicking somewhere else
      child: Scaffold(
        body: Screenshot(
          controller: screenshotController,
          child: AdaptiveLayout(
            key: _key,
            topNavigation: !hasFirstSynced
                ? SlotLayout(
                    config: &lt;Breakpoint, SlotLayoutConfig?&gt;{
                      Breakpoints.smallAndUp: SlotLayout.from(
                        key: const Key(&#39;LoadingIndictor&#39;),
                        builder: (BuildContext ctx) =&gt;
                            const LinearProgressIndicator(
                          semanticsLabel: &#39;Loading first sync&#39;,
                        ),
                      ),
                    },
                  )
                : null,
            primaryNavigation: isDesktop
                ? SlotLayout(
                    config: &lt;Breakpoint, SlotLayoutConfig?&gt;{
                      &#47;&#47; adapt layout according to platform.
                      Breakpoints.small: SlotLayout.from(
                        key: const Key(&#39;primaryNavigation&#39;),
                        builder: (BuildContext ctx) =&gt; SidebarWidget(
                          labelType: NavigationRailLabelType.selected,
                          navigationShell: widget.navigationShell,
                        ),
                      ),
                      Breakpoints.mediumAndUp: SlotLayout.from(
                        key: const Key(&#39;primaryNavigation&#39;),
                        builder: (BuildContext ctx) =&gt; SidebarWidget(
                          labelType: NavigationRailLabelType.all,
                          navigationShell: widget.navigationShell,
                        ),
                      ),
                    },
                  )
                : null,
            body: SlotLayout(
              config: &lt;Breakpoint, SlotLayoutConfig&gt;{
                Breakpoints.smallAndUp: SlotLayout.from(
                  key: const Key(&#39;Body Small&#39;),
                  builder: (BuildContext ctx) =&gt; widget.navigationShell,
                ),
              },
            ),
            bottomNavigation: !isDesktop &amp;&amp;
                    keyboardVisibility.valueOrNull !=
                        true &#47;&#47; and the keyboard is not visible.
                ? SlotLayout(
                    config: &lt;Breakpoint, SlotLayoutConfig&gt;{
                      &#47;&#47;In desktop, we have ability to adjust windows res,
                      &#47;&#47; adjust to navbar as primary to smaller views.
                      Breakpoints.smallAndUp: SlotLayout.from(
                        key: Keys.mainNav,
                        inAnimation: AdaptiveScaffold.bottomToTop,
                        outAnimation: AdaptiveScaffold.topToBottom,
                        builder: (BuildContext ctx) =&gt; BottomNavigationBar(
                          showSelectedLabels: false,
                          showUnselectedLabels: false,
                          currentIndex: widget.navigationShell.currentIndex,
                          onTap: (index) {
                            widget.navigationShell.goBranch(
                              index,
                              initialLocation: index ==
                                  widget.navigationShell.currentIndex,
                            );
                          },
                          items: bottomBarNav,
                          type: BottomNavigationBarType.fixed,
                        ),
                      ),
                    },
                  )
                : null,
          ),
        ),
      ),
    ),
  );
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">acter</a></li>
    <li><a href="../../file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell/file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell-library.html">home_shell</a></li>
    <li><a href="../../file-___home_runner_work_a3_a3_app_lib_features_home_pages_home_shell/HomeShellState-class.html">HomeShellState</a></li>
    <li class="self-crumb">build method</li>
</ol>


    <h5>HomeShellState class</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    acter
      0.0.1+1
  </span>

  
</footer>



<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>



</body>

</html>

